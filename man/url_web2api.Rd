% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/url_utils.R
\name{url_web2api}
\alias{url_web2api}
\title{Convert PxWeb Web URL to API URL}
\usage{
url_web2api(web_url, language = NULL)
}
\arguments{
\item{web_url}{A string containing the web URL of a PxWeb table.}

\item{language}{Optional language code for the API (default: extracted from the web URL).
If \code{language} is provided, it overrides the language code in the web URL.}
}
\value{
A string with the corresponding API URL.
}
\description{
This function converts a PxWeb web interface URL, which includes a language component,
to an API URL for programmatic access. The first redundant prefix (e.g., "LUKE__")
is removed, while subsequent double underscores (\verb{__}) are replaced with slashes (\code{/}).
}
\examples{

url_web2api("https://vero2.stat.fi/PXWeb/pxweb/fi/Vero/Vero__Tulorekisteri/trt_010.px/")
# Output: "https://vero2.stat.fi/PxWeb/api/v1/fi/Vero/Tulorekisteri/trt_010.px/"

url_web2api("https://statdb.luke.fi/PxWeb/pxweb/fi/LUKE/LUKE__04\%20Metsa__02\%20Rakenne\%20ja\%20tuotanto__06\%20Puun\%20markkinahakkuut__04\%20Vuositilastot/01a_Teollisuuspuun_hakkuut_maak_v.px/")
# Output: "https://statdb.luke.fi/PxWeb/api/v1/fi/LUKE/04\%20Metsa/02\%20Rakenne\%20ja\%20tuotanto/06\%20Puun\%20markkinahakkuut/04\%20Vuositilastot/01a_Teollisuuspuun_hakkuut_maak_v.px"

url_web2api("https://pxdata.stat.fi/PxWeb/pxweb/fi/StatFin/StatFin__ati/statfin_ati_pxt_11zt.px")
# Output: "https://pxdata.stat.fi/PxWeb/api/v1/fi/StatFin/ati/statfin_ati_pxt_11zt.px"
}
